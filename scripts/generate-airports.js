const fs = require('fs');
const path = require('path');

// Your complete airport list
const airportsList = `Aalborg (AAL)
Ajaccio (AJA)
Aktion (PVK)
Albacete (ABC)
Alesund Vigra (AES)
Alexandroupolis (AXD)
Alger (ALG)
Alghero Fertilia (AHO)
Alicante (ALC)
Almeria (LEI)
Amsterdam Schipol (AMS)
Ancona (AOI)
Anvers (ANR)
Arvidsjaur (AJR)
Athènes Eleftherios (ATH)
Badajoz (BJZ)
Bale Mulhouse-Freiburg (BSL)
Barcelona El Prat (BCN)
Bari Karol Wojtyla (BRI)
Basel Mulhouse Freiburg (BSL)
Bastia Poretta (BIA)
Beauvais Tille (BVA)
Belfast International (BFS)
Belgrade Nikola Tesla (BEG)
Bergame Caravaggio (BGY)
Bergerac Dordogne Périgord (EGC)
Berlin Brandenburg (BER)
Bern (BRN)
Biarritz (BIQ)
Biarritz Pays Basque (BIQ)
Bilbao (BIO)
Billund (BLL)
Birmingham (BHX)
Bodrum Milas (BJV)
Bordeaux (BOD)
Bournemouth (BOH)
Bratislava M.R Stefanik (BTS)
Braunschweig (BWE)
Bremen (BRE)
Brescia (VBS)
Brindisi (BDS)
Bristol (BRS)
Brive Souillac (BVE)
Brno Turany (BRQ)
Bruxelles Zaventem (BRU)
Bucharest Aurel Vlaicu (BBU)
Bucharest Henri Coanda (OTP)
Budapest Ferenc Liszt (BUD)
Buochs (BXO)
Cagliari (CAG)
Calvi Sainte-Catherine (CLY)
Cambridge (CBG)
Cannes (CEQ)
Cardiff (CWL)
Casablanca (CMN)
Catane Fontanarossa (CTA)
Chania (CHQ)
Charleroi (CRL)
Chateauroux (CHR)
Clermont-Ferrand Auvergne (CFE)
Cologne Bonn (CGN)
Comiso (CIY)
Copenhagen (CPH)
Corfu (CFU)
Cork (ORK)
Courtrai Wevelgem (KJK)
Cracovie John Paul II (KRK)
Dakar Blaise Diagne (DSS)
Deauville Saint Gatien (DOL)
Debrecen (DEB)
Dijon Longvic (DIJ)
Dinard Pleurtuit Saint-Malo (DNR)
Dole Jura (DLE)
Dortmund (DTM)
Dresden (DRS)
Dubai Jebel Ali (DWC)
Dublin (DUB)
Dubrovnik (DBV)
Dusseldorf (DUS)
East Midlands (EMA)
Edinburgh (EDI)
Eindhoven (EIN)
Epinal Mirecourt (EPL)
Erfurt Weimar (ERF)
Exeter (EXT)
Faro (FAO)
Fes Saiss (FEZ)
Figari Sud-Corse (FSC)
Florence Peretola (FLR)
Forli (FRL)
Fort Lauderdale Hollywood (FLL)
Frankfurt (FRA)
Frankfurt Hahn (HHN)
Friedrichshafen (FDH)
Fuerteventura (FUE)
Funchal Cristiano Ronaldo (FNC)
Gdansk Lesch Walesa (GDN)
Genes Genoa Cristoforo Colombo (GOA)
Geneve International (GVA)
Girona Costa Brava (GRO)
Glasgow International (GLA)
Glasgow Prestwick (PIK)
Gothenburg Landvetter (GOT)
Gran Canaria (LPA)
Granada Federico Garcia Lopez (GRX)
Graz (GRZ)
Grenoble Isere (GNB)
Grosseto (GRS)
Hamburg (HAM)
Hannover Langenhagen (HAJ)
Haugesund Karmoy (HAU)
Heraklion (HER)
Heringsdorf (HDF)
Humberside (HUY)
Ibiza (IBZ)
Ingolstadt Manching (IGS)
Innsbruck (INN)
Ioannina (IOA)
Ivalo (IVL)
Jerez (XRY)
Kalamata (KLX)
Karlsruhe/Baden-Baden (FKB)
Karlstad (KSD)
Kassel Calden (KSF)
Kastoria (KSO)
Katowice (KTW)
Kavala (KVA)
Kefalonia Cephalonia (EFL)
Khanty-Mansiysk (HMA)
Kirkenes Hoybuktmoen (KKN)
Kiruna (KRN)
Klagenfurt (KLU)
Knock Ireland West (NOC)
Kokkola-Pietarsaari (KOK)
Kos (KGS)
Kosice (KSC)
Kourgan (KRO)
Kristiansund Kvernberget (KSU)
Kuopio (KUO)
La Palma (SPC)
La Rochelle Ile de Re (LRH)
Lahr Black Forest (LHA)
Lajes Field (TER)
Lakselv Banak (LKL)
Lamezia Terme (SUF)
Lanzarote (ACE)
Larnaca (LCA)
Le Touquet Cote d'Opale (LTQ)
Leeds Bradford (LBA)
Leipzig (LEJ)
Lelystad (LEY)
Lemnos (LXS)
Leon (LEN)
Liege (LGG)
Lille (LIL)
Limoges Bellegarde (LIG)
Linz (LNZ)
Lisbon Humberto Delgado (LIS)
Lisbonne Cascais (CAT)
Liverpool John Lennon (LPL)
Ljubljana (LJU)
London Biggin Hill (BQH)
London Farnborough (FAB)
London Gatwick (LGW)
London Luton (LTN)
London Oxford (OXF)
London Southend (SEN)
London Stansted (STN)
Longyearbyen Svalbard (LYR)
Lorient South Brittany (LRT)
Lublin (LUZ)
Lugano (LUG)
Lulea (LLA)
Luxembourg (LUX)
Lyon Bron (LYN)
Maastricht Aachen (MST)
Madrid Barajas (MAD)
Magnitogorsk (MQF)
Mahon Minorque (MAH)
Malaga Costa Del Sol (AGP)
Malmo (MMX)
Malta Luqa (MLA)
Manchester (MAN)
Maribor (MBX)
Marrakech (RAK)
Marseille Provence (MRS)
Memmingen (FMM)
Metz-Nancy-Lorraine (ETZ)
Milan Linate (LIN)
Montpellier Méditerranée (MPL)
Moscou Vnukovo (VKO)
Munich (MUC)
Munster Osnabruck (FMO)
Mykonos (JMK)
Mytilene (MJT)
Nantes Atlantique (NTE)
Naples (NAP)
Nassau Lynden Pindling (NAS)
New-York Teterboro (TEB)
Newquay Cornwall (NQY)
Nice (NCE)
Nimes (FNI)
Nis Constantine The Great (INI)
Norwich (NWI)
Nuremberg (NUE)
Oberpfaffenhofen / Munich (OBF)
Olbia Costa Smeralda (OLB)
Olsztyn Mazury (SZY)
Orebro (ORB)
Osijek (OSI)
Oslo Gardermoen (OSL)
Ostende Bruges (OST)
Ostersund Are (OSD)
Ostrava Leos Janacek (OSR)
Palerme Falcone-Borsellino (PMO)
Palma de Mallorca (PMI)
Pampelune (PNA)
Paphos (PFO)
Paris Le Bourget (LBG)
Patras Araxos (GPA)
Pau Pyrennees (PUF)
Perm Bolshoye Savino (PEE)
Perpignan Rivesaltes (PGF)
Perugia Umbria (PEG)
Pescara Abruzzo (PSR)
Pise Galileo Galilei (PSA)
Plovdiv (PDV)
Poprad Tatry (TAT)
Porto Francisco de Sa Carneiro (OPO)
Poznan Lawica (POZ)
Prague Vaclav Havel (PRG)
Pula (PUY)
Quimper Cornouaille (UIP)
Rabat Sale (RBA)
Reggio Calabria (REG)
Rennes Saint-Jacques (RNS)
Reus (REU)
Rhodes (RHO)
Riga (RIX)
Rimini Federico Fellini (RMI)
Rome Ciampino (CIA)
Rotterdam The Hague (RTM)
Rovaniemi (RVN)
Rzeszow Jasionka (RZE)
Saarbrucken (SCN)
Saint Etienne Boutheon (EBU)
Saint Gallen Altenrhein (ACH)
Saint Moritz Samedan (SMV)
Saint Nazaire Montoir (SNR)
Saint Peterburg Pulkovo (LED)
Saint Tropez La Mole (LTT)
Saint-Brieuc Armor (SBK)
Salamanque (SLM)
Salekhard (SLY)
Salzburg (SZG)
Santa Maria (SMA)
Santander (SDR)
Santiago de Compostela (SCQ)
Santorin (JTR)
Saransk (SKX)
Sarmellek (SOB)
Seville San Pablo (SVQ)
Shannon (SNN)
Sion (SIR)
Skelleftea (SFT)
Skiathos (JSI)
Sliac (SLD)
Sofia (SOF)
Speyer (ZQC)
Split (SPU)
Stavanger Sola (SVG)
Stockholm Arlanda (ARN)
Stockholm Bromma (BMA)
Stornoway (SYY)
Strasbourg Entzheim (SXB)
Stuttgart (STR)
Tallinn Lennart Meri (TLL)
Tampere Pirkkala (TMP)
Tanger (TNG)
Tarbes-Lourdes-Pyrenees (LDE)
Teesside International (MME)
Tel Aviv Ben Gurion (TLV)
Tenerife North (TFN)
Tenerife South (TFS)
Thessalonique (SKG)
Tivat (TIV)
Toulon-Hyeres (TLN)
Toulouse Blagnac (TLS)
Tours Val de Loire (TUF)
Trapani Birgi (TPS)
Trieste Friuli Venezia Giulia (TRS)
Tromso (TOS)
Tunis Carthage (TUN)
Turin Caselle (TRN)
Umea (UME)
Valence Chabeuil (VAF)
Valencia (VLC)
Valladolid (VLL)
Varna (VAR)
Varsovie Chopin (WAW)
Vatry Reims Chalons (XCR)
Venise Marco Polo (VCE)
Verone (VRN)
Vienne (VIE)
Vigo-Peinador (VGO)
Vilnius (VNO)
Volos Nea Anchialos National (VOL)
Wroclaw Copernicus (WRO)
Yaroslavl Tunoshna (IAR)
Yerevan Zvartnots (EVN)
Yuzhno-Sakhalinsk (UUS)
Zadar (ZAD)
Zagreb Franjo Tudman (ZAG)
Zakynthos (ZTH)
Zielona Gora Babimost (IEG)
Zurich (ZRH)`;

function parseAirportLine(line) {
  const match = line.match(/^(.+?)\s+\(([A-Z]{3})\)$/);
  if (!match) return null;
  
  const [, name, code] = match;
  const city = name.split(/\s+/)[0];
  
  return {
    id: code,
    name: name.trim(),
    city: city.trim(),
    country: '', // You can add country mapping if needed
    code: code,
    slug: `${city.toLowerCase().replace(/[^a-z0-9]+/g, '-')}-${code.toLowerCase()}`
  };
}

const airports = airportsList
  .split('\n')
  .map(line => line.trim())
  .filter(line => line.length > 0)
  .map(parseAirportLine)
  .filter(airport => airport !== null);

const outputPath = path.join(__dirname, '..', 'data', 'airports.json');
fs.writeFileSync(outputPath, JSON.stringify(airports, null, 2), 'utf8');

console.log(`✅ Generated ${airports.length} airports in ${outputPath}`);
